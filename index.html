<html lang="en" >
	<head>
		<meta charset="utf-8" />
		<title>Chat Log Statistics</title>
		<link href="style.css" rel="stylesheet" type="text/css" />
		<script src="script.js"></script>
	</head>
	<body>
	<div class="container">
		<h1>Chat Log Statistics</h1>
		<div>
			<p>You may select any number of files in the log or log_ngs folders in your PSO2 documents directory (same place that PSO2 stores native screenshots). Files that aren't chat logs or symbol chat logs are skipped.</p>
			<p>The name filter file is a plain text document containing names  separated by a new line, tab, or comma. The results are limited to just those players who have a Player ID Name or Character Name in the filter. You can specify a sensitivity setting to allow for spelling errors in the name. The setting ranges from 0, which will accept all names as equivalent, to 100, which will only count exact spelling. Uploading more chat log files will increase the likelihood of the name filter catching players who use multiple characters with unknown names, but may increase the time required to perform calculations.</p>
			<p>Additionally you can filter by message content. Only messages containing the given case-insensitive text will be included in the calculation. Alternatively you can set the message filter using a regular expression (will not work on Safari).</p>
			<p>The results may also be filtered by message date. By default this is set to only include messages from the past four weeks, but can be set to as early as PSO2's launch date.</p>
			<p>The output can be sorted by name, Player ID, or by message count by clicking on the corresponding header.</p>
			<p>See the <a href="https://github.com/Elekester/PSO2-Chat-Log-Statistics/">GitHub Repository</a> for the source code.</p>
		</div>
		<div class="bordered">
			<div>
				<label for="chat_log_files">Select chat log files to upload:</label>
				<input type="file" name="chat_log_files" id="chat_log_files" accept=".txt" onchange="ChatStats.chat_logs_change();" multiple />
			</div>
			<div>
				<label for="name_filter_file">Select an optional name filter file to upload:</label>
				<input type="file" name="name_filter_file" id="name_filter_file" accept=".txt" onchange="ChatStats.name_filter_change();" disabled />
			</div>
			<div>
				<label for="name_filter_cutoff">Select a sensitivity for name differences:</label>
				<input type="number" name="name_filter_cutoff" id="name_filter_cutoff" min="0" max="100" value="80" step="5" onchange="ChatStats.name_filter_change();" disabled />
			</div>
			<div>
				<label for="filter_message">Message filter (RegEx supported):</label>
				<input type="text" name="filter_message" id="filter_message" onchange="ChatStats.message_filter_change();" disabled />
			</div>
			<div>
				<label>Select a range of dates to filter by:</label>
				<input type="date" id="date_start" name="date_start" value="2012-07-04" min="2012-07-04" onchange="ChatStats.date_filter_change();" disabled />
				<input type="date" id="date_end" name="date_end" value="9999-12-31" min="2012-07-04" onchange="ChatStats.date_filter_change();" disabled />
			</div>
			<div>
				<button name="calculate_button" id="calculate_button" type="button" onclick="ChatStats.display();" disabled>Calculate Statistics</button>
			</div>
		</div>
		<div>
			<h2>Output</h2>
			<table id="output">
				<tbody>
					<tr>
						<th id="total_column">Total</th>
						<th id="public_column">Public</th>
						<th id="party_column">Party</th>
						<th id="guild_column">Guild</th>
						<th id="reply_column">Reply</th>
						<th id="group_column">Group</th>
						<th id="player_id_column">Player ID</th>
						<th id="names_column">Names</th>
					</tr>
				</tbody>
			</table>
		</div>
	</body>
</html>
